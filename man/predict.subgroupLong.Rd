% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fused_longitudinal.R
\name{predict.subgroupLong}
\alias{predict.subgroupLong}
\title{Prediction method for subgroupLong fitted objects}
\usage{
\method{predict}{subgroupLong}(object, newx, s = NULL, type = c("link",
  "response", "coefficients", "nonzero", "class"), ...)
}
\arguments{
\item{object}{fitted "subgroupLong" model object}

\item{newx}{Matrix of new values for x at which predictions are to be made. Must be a matrix; can be sparse as in Matrix package.
This argument is not used for type=c("coefficients","nonzero")}

\item{s}{Value(s) of the penalty parameter lambda at which predictions are required. Default is the entire sequence used to create
the model.}

\item{type}{Type of prediction required. Type == "link" gives the linear predictors for the "binomial" model; for "gaussian" models it gives the fitted values.
Type == "response" gives the fitted probabilities for "binomial". Type "coefficients" computes the coefficients at the requested values for s.
Type "class" applies only to "binomial" and produces the class label corresponding to the maximum probability.}

\item{...}{not used}
}
\value{
An object depending on the type argument
}
\description{
Prediction method for subgroupLong fitted objects
}
\examples{
set.seed(123)
nobs       <- 100
nobs.test  <- 1e5
nvars      <- 20
periods    <- 6
sd         <- 2

beta.nz <- rbind(c( 1,    1,    1,    1.5,  1.5,  1.5),
                 c(-1,   -1,   -1,   -0.5, -0.5, -0.5),
                 c( 1,    1,    1,   -1,   -1,   -1),
                 c( 1,    1,    1,    1,    1,    1),
                 c(-0.5, -0.5, -0.5, -0.5, -0.5, -0.5))

beta <- data.matrix(rbind(beta.nz, matrix(0, nvars - 5, periods)))

trt <- rbinom(nobs, 1, 0.5)
x   <- matrix(rnorm(nobs * nvars), ncol = nvars); colnames(x) <- paste0("V", 1:ncol(x))
y   <- x \%*\% (beta * 0.5) + (2 * trt - 1) * (x \%*\% beta) +
    matrix(rnorm(nobs * periods, sd = sd), ncol = periods)
y   <- apply(y, 2, function(yy) yy - (2 * trt - 1))

plot(x = NULL, xlim = c(1,6), ylim = range(y))
for (i in 1:nobs)
{
    lines(x = 1:6, y = y[i,], col = colors()[i+1])
}

x.list <- rep(list(x), periods)
y.list <- lapply(apply(y, 2, function(x) list(x) ), function(x) x[[1]])

fit <- subgroupLong(x = x.list, y = y.list, trt = trt, gamma = c(0.05, 0.1, 1, 2, 5, 10))

preds <- predict(fit, newx = x)


}
